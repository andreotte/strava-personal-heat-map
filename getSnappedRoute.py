#!python3
import time
import json
import requests
from requests.auth import HTTPBasicAuth, HTTPDigestAuth     

def getSnappedRoute():
    url = "https://api.mapbox.com/matching/v5/mapbox/driving/-85.56068,42.98646;-85.56067,42.98647;-85.56065,42.98646;-85.56061,42.98648;-85.5606,42.9865;-85.56056,42.98649;-85.56056,42.98651;-85.56052,42.98652;-85.5605,42.9865;-85.56046,42.98649;-85.5604,42.98649;-85.56032,42.98647;-85.56028,42.98649;-85.56024,42.98645;-85.56019,42.98649;-85.56006,42.98645;-85.55998,42.98645;-85.55988,42.98641;-85.55982,42.98642;-85.55962,42.98649;-85.55971,42.98652;-85.55978,42.98651;-85.55993,42.98652;-85.56011,42.98657;-85.56013,42.98659;-85.56028,42.98663;-85.56056,42.98666;-85.56075,42.98674;-85.56076,42.98677;-85.56069,42.98681;-85.56071,42.98683;-85.56096,42.98684;-85.56118,42.98695;-85.56126,42.98695;-85.56121,42.98714;-85.56123,42.9872;-85.56131,42.98725;-85.56154,42.98728;-85.56186,42.98737;-85.56201,42.98739;-85.56217,42.98747;-85.56251,42.98752;-85.56308,42.98753;-85.5638,42.98761;-85.56417,42.9877;-85.56427,42.98774;-85.5644,42.98781;-85.56443,42.98787;-85.56446,42.98836;-85.5645,42.98858;-85.5645,42.98864;-85.56448,42.98868;-85.56442,42.98874;-85.56392,42.98912;-85.56389,42.98914;-85.5639,42.9892;-85.56393,42.98926;-85.56399,42.9893;-85.56407,42.98934;-85.56439,42.98946;-85.56484,42.98974;-85.56498,42.98987;-85.56507,42.99001;-85.56519,42.99013;-85.56527,42.99026;-85.56526,42.99035;-85.56501,42.9906;-85.56467,42.99079;-85.56452,42.99093;-85.56431,42.99105;-85.56426,42.99111;-85.56422,42.9912;-85.56407,42.99124;-85.56395,42.99129;-85.56376,42.99133;-85.56349,42.99132;-85.56312,42.99137;-85.56289,42.99146;-85.56278,42.99145;-85.56252,42.99156;-85.56236,42.99152;-85.56217,42.99145;-85.56209,42.99145;-85.56197,42.99149;-85.56178,42.99162;-85.56177,42.9917;-85.56173,42.99174;-85.56172,42.99177;-85.56175,42.99179;-85.5619,42.99183;-85.56196,42.99187;-85.56205,42.99199;-85.56211,42.99212;-85.56211,42.99221;-85.56202,42.9924;-85.5615,42.99296;-85.56148,42.99302;-85.56138,42.99315;-85.5613,42.99335;-85.56135,42.99396?access_token=pk.eyJ1IjoiYW5kcmVvdHRlIiwiYSI6ImNrNWxkYjF6ODBiaXQzbm1peGw1cjR6eDcifQ.uSDBiv612pu3KHchkn3_Ow&radiuses=50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50;50"
    # response = requests.get(url, headers=headers, params=params)   # modify request headers 
    response = requests.get(url)   # modify request headers 

    print("ResponseCode: ", response.status_code)
    return response.json()      

def main():
    file = open("Activities.txt","a")
    file.write(f'let routes = [')
    file.write('\n')
    i = 1
    matchings = getSnappedRoute()
    for coordinate in matchings["tracepoints"]:
        if coordinate:
            print(coordinate["location"])

            file.write(f'"{coordinate["location"]}",\n')
            i += 1
    file.write('];')
    file.close() 

if __name__ == '__main__':
    main()

 